<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIè£å‰ªæµ‹è¯•æ–‡ä»¶ç”Ÿæˆå™¨</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, sans-serif; 
            max-width: 1000px; 
            margin: 0 auto; 
            padding: 20px; 
            background: #f5f7fa; 
        }
        .generate-section { 
            background: white; 
            padding: 30px; 
            border-radius: 15px; 
            box-shadow: 0 5px 20px rgba(0,0,0,0.1); 
            margin: 20px 0;
        }
        .test-case { 
            border: 1px solid #e9ecef; 
            border-radius: 10px; 
            padding: 20px; 
            margin: 20px 0; 
            background: #f8f9fa;
        }
        .image-preview { display: flex; gap: 20px; margin: 20px 0; }
        .image-box { 
            flex: 1; 
            text-align: center; 
            padding: 15px;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            background: white;
        }
        canvas { 
            max-width: 100%; 
            border-radius: 8px; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .generate-btn { 
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            margin: 10px 5px;
        }
        .generate-btn:hover { transform: translateY(-2px); }
        .download-all { 
            background: linear-gradient(135deg, #28a745, #20c997);
            font-size: 1.1em;
            padding: 15px 30px;
        }
        h1 { text-align: center; color: #2c3e50; }
        h3 { color: #495057; margin-bottom: 15px; }
        .status { 
            padding: 8px 15px; 
            border-radius: 20px; 
            font-size: 0.9em; 
            margin: 10px 0;
            display: inline-block;
        }
        .status.success { background: #d4edda; color: #155724; }
        .crop-info { 
            background: #e7f3ff; 
            padding: 15px; 
            border-radius: 8px; 
            margin: 15px 0;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <h1>ğŸ¨ AIè£å‰ªæµ‹è¯•æ–‡ä»¶ç”Ÿæˆå™¨</h1>
    <p style="text-align: center; color: #6c757d;">ç”Ÿæˆæ ‡å‡†åŒ–æµ‹è¯•å›¾ç‰‡å’Œè£å‰ªç»“æœï¼Œç”¨äºç‰ˆæœ¬ç®¡ç†å’Œæ•ˆæœå¯¹æ¯”</p>

    <div class="generate-section">
        <h2>ğŸ“ æµ‹è¯•æ–‡ä»¶ç”Ÿæˆ</h2>
        
        <div class="test-case">
            <h3>æ¡ˆä¾‹1: äººåƒæ‘„å½± â†’ Instagramå¸–å­ (1:1)</h3>
            <div class="image-preview">
                <div class="image-box">
                    <h4>åŸå§‹å›¾ç‰‡ (1200Ã—800)</h4>
                    <canvas id="original1" width="240" height="160"></canvas>
                    <button class="generate-btn" onclick="downloadOriginal(1, 'portrait_1200x800.jpg')">ä¸‹è½½åŸå›¾</button>
                </div>
                <div class="image-box">
                    <h4>AIè£å‰ªç»“æœ (1080Ã—1080)</h4>
                    <canvas id="cropped1" width="160" height="160"></canvas>
                    <button class="generate-btn" onclick="downloadCropped(1, 'instagram_post_1080x1080.jpg')">ä¸‹è½½è£å‰ª</button>
                </div>
            </div>
            <div class="crop-info">
                <strong>ğŸ“Š è£å‰ªå‚æ•°:</strong> ä»(225,0)è£å‰ª750Ã—750åŒºåŸŸï¼Œç¼©æ”¾åˆ°1080Ã—1080<br>
                <strong>ğŸ¤– AIæ¨ç†:</strong> äººåƒå±…ä¸­æ„å›¾ï¼Œåº”ç”¨ä¸‰åˆ†æ³•åˆ™ï¼Œ95.2%äººè„¸æ£€æµ‹ç½®ä¿¡åº¦
            </div>
            <div class="status success">âœ… ç”Ÿæˆå®Œæˆ</div>
        </div>

        <div class="test-case">
            <h3>æ¡ˆä¾‹2: é£æ™¯æ‘„å½± â†’ Instagramæ•…äº‹ (9:16)</h3>
            <div class="image-preview">
                <div class="image-box">
                    <h4>åŸå§‹å›¾ç‰‡ (1600Ã—900)</h4>
                    <canvas id="original2" width="240" height="135"></canvas>
                    <button class="generate-btn" onclick="downloadOriginal(2, 'landscape_1600x900.jpg')">ä¸‹è½½åŸå›¾</button>
                </div>
                <div class="image-box">
                    <h4>AIè£å‰ªç»“æœ (1080Ã—1920)</h4>
                    <canvas id="cropped2" width="108" height="192"></canvas>
                    <button class="generate-btn" onclick="downloadCropped(2, 'instagram_story_1080x1920.jpg')">ä¸‹è½½è£å‰ª</button>
                </div>
            </div>
            <div class="crop-info">
                <strong>ğŸ“Š è£å‰ªå‚æ•°:</strong> ä»(300,0)è£å‰ª1000Ã—1778åŒºåŸŸï¼Œç¼©æ”¾åˆ°1080Ã—1920<br>
                <strong>ğŸ¤– AIæ¨ç†:</strong> ä¿ç•™å¤©ç©ºå’Œå±±è„‰è½®å»“ï¼Œå¤©ç©ºå æ¯”40%ï¼Œå‰æ™¯ä½œä¸ºè§†è§‰é”šç‚¹
            </div>
            <div class="status success">âœ… ç”Ÿæˆå®Œæˆ</div>
        </div>

        <div class="test-case">
            <h3>æ¡ˆä¾‹3: å¤šäººåˆå½± â†’ TikTok (9:16)</h3>
            <div class="image-preview">
                <div class="image-box">
                    <h4>åŸå§‹å›¾ç‰‡ (1400Ã—1000)</h4>
                    <canvas id="original3" width="224" height="160"></canvas>
                    <button class="generate-btn" onclick="downloadOriginal(3, 'group_1400x1000.jpg')">ä¸‹è½½åŸå›¾</button>
                </div>
                <div class="image-box">
                    <h4>AIè£å‰ªç»“æœ (1080Ã—1920)</h4>
                    <canvas id="cropped3" width="108" height="192"></canvas>
                    <button class="generate-btn" onclick="downloadCropped(3, 'tiktok_1080x1920.jpg')">ä¸‹è½½è£å‰ª</button>
                </div>
            </div>
            <div class="crop-info">
                <strong>ğŸ“Š è£å‰ªå‚æ•°:</strong> ä»(262,0)è£å‰ª875Ã—1556åŒºåŸŸï¼Œç¼©æ”¾åˆ°1080Ã—1920<br>
                <strong>ğŸ¤– AIæ¨ç†:</strong> æ£€æµ‹åˆ°4ä¸ªäººç‰©ä¸»ä½“ï¼Œä¿æŒç¾¤ä½“é‡å¿ƒä½ç½®ï¼Œé¢„ç•™10%è¾¹ç¼˜ç©ºé—´
            </div>
            <div class="status success">âœ… ç”Ÿæˆå®Œæˆ</div>
        </div>

        <div class="test-case">
            <h3>æ¡ˆä¾‹4: å•†åŠ¡å¤´åƒ â†’ LinkedInå¤´åƒ (1:1)</h3>
            <div class="image-preview">
                <div class="image-box">
                    <h4>åŸå§‹å›¾ç‰‡ (1000Ã—1200)</h4>
                    <canvas id="original4" width="133" height="160"></canvas>
                    <button class="generate-btn" onclick="downloadOriginal(4, 'business_1000x1200.jpg')">ä¸‹è½½åŸå›¾</button>
                </div>
                <div class="image-box">
                    <h4>AIè£å‰ªç»“æœ (400Ã—400)</h4>
                    <canvas id="cropped4" width="160" height="160"></canvas>
                    <button class="generate-btn" onclick="downloadCropped(4, 'linkedin_avatar_400x400.jpg')">ä¸‹è½½è£å‰ª</button>
                </div>
            </div>
            <div class="crop-info">
                <strong>ğŸ“Š è£å‰ªå‚æ•°:</strong> ä»(200,150)è£å‰ª600Ã—600åŒºåŸŸï¼Œç¼©æ”¾åˆ°400Ã—400<br>
                <strong>ğŸ¤– AIæ¨ç†:</strong> ä¸“ä¸šå•†åŠ¡å¤´åƒï¼Œçªå‡ºé¢éƒ¨ç‰¹å¾ï¼Œä¿ç•™æ ‡å‡†è‚©éƒ¨ç©ºé—´
            </div>
            <div class="status success">âœ… ç”Ÿæˆå®Œæˆ</div>
        </div>

        <div class="test-case">
            <h3>æ¡ˆä¾‹5: ç”Ÿæ´»ç…§ç‰‡ â†’ å¾®ä¿¡å¤´åƒ (1:1)</h3>
            <div class="image-preview">
                <div class="image-box">
                    <h4>åŸå§‹å›¾ç‰‡ (1100Ã—800)</h4>
                    <canvas id="original5" width="220" height="160"></canvas>
                    <button class="generate-btn" onclick="downloadOriginal(5, 'casual_1100x800.jpg')">ä¸‹è½½åŸå›¾</button>
                </div>
                <div class="image-box">
                    <h4>AIè£å‰ªç»“æœ (640Ã—640)</h4>
                    <canvas id="cropped5" width="160" height="160"></canvas>
                    <button class="generate-btn" onclick="downloadCropped(5, 'wechat_avatar_640x640.jpg')">ä¸‹è½½è£å‰ª</button>
                </div>
            </div>
            <div class="crop-info">
                <strong>ğŸ“Š è£å‰ªå‚æ•°:</strong> ä»(250,100)è£å‰ª600Ã—600åŒºåŸŸï¼Œç¼©æ”¾åˆ°640Ã—640<br>
                <strong>ğŸ¤– AIæ¨ç†:</strong> è‡ªç„¶è¡¨æƒ…ï¼ŒåŒ…å«èƒŒæ™¯è£…é¥°å…ƒç´ ï¼Œè‰²å½©æ¸©æš–äº²å’Œ
            </div>
            <div class="status success">âœ… ç”Ÿæˆå®Œæˆ</div>
        </div>

        <div style="text-align: center; margin: 30px 0;">
            <button class="generate-btn download-all" onclick="downloadAllFiles()">
                ğŸ“¦ æ‰¹é‡ä¸‹è½½æ‰€æœ‰æµ‹è¯•æ–‡ä»¶
            </button>
        </div>
    </div>

    <script>
        // æµ‹è¯•ç”¨ä¾‹æ•°æ®
        const testCases = {
            1: {
                original: { width: 1200, height: 800, name: 'portrait' },
                cropped: { width: 1080, height: 1080, crop: { x: 225, y: 0, width: 750, height: 750 } }
            },
            2: {
                original: { width: 1600, height: 900, name: 'landscape' },
                cropped: { width: 1080, height: 1920, crop: { x: 300, y: 0, width: 1000, height: 1778 } }
            },
            3: {
                original: { width: 1400, height: 1000, name: 'group' },
                cropped: { width: 1080, height: 1920, crop: { x: 262, y: 0, width: 875, height: 1556 } }
            },
            4: {
                original: { width: 1000, height: 1200, name: 'business' },
                cropped: { width: 400, height: 400, crop: { x: 200, y: 150, width: 600, height: 600 } }
            },
            5: {
                original: { width: 1100, height: 800, name: 'casual' },
                cropped: { width: 640, height: 640, crop: { x: 250, y: 100, width: 600, height: 600 } }
            }
        };

        // ç”ŸæˆåŸå§‹å›¾ç‰‡
        function generateOriginalImage(testId) {
            const canvas = document.getElementById(`original${testId}`);
            const ctx = canvas.getContext('2d');
            
            switch(testId) {
                case 1: return drawPortrait(ctx, canvas.width, canvas.height);
                case 2: return drawLandscape(ctx, canvas.width, canvas.height);
                case 3: return drawGroup(ctx, canvas.width, canvas.height);
                case 4: return drawBusiness(ctx, canvas.width, canvas.height);
                case 5: return drawCasual(ctx, canvas.width, canvas.height);
            }
        }

        // ç”Ÿæˆè£å‰ªåçš„å›¾ç‰‡
        function generateCroppedImage(testId) {
            const originalCanvas = document.getElementById(`original${testId}`);
            const croppedCanvas = document.getElementById(`cropped${testId}`);
            const ctx = croppedCanvas.getContext('2d');
            
            const testCase = testCases[testId];
            const scale = originalCanvas.width / testCase.original.width;
            
            // è®¡ç®—ç¼©æ”¾åçš„è£å‰ªåŒºåŸŸ
            const crop = {
                x: testCase.cropped.crop.x * scale,
                y: testCase.cropped.crop.y * scale,
                width: testCase.cropped.crop.width * scale,
                height: testCase.cropped.crop.height * scale
            };
            
            // æ‰§è¡Œè£å‰ª
            ctx.drawImage(
                originalCanvas,
                crop.x, crop.y, crop.width, crop.height,
                0, 0, croppedCanvas.width, croppedCanvas.height
            );
        }

        // äººåƒåœºæ™¯
        function drawPortrait(ctx, w, h) {
            const gradient = ctx.createLinearGradient(0, 0, 0, h);
            gradient.addColorStop(0, '#87CEEB');
            gradient.addColorStop(1, '#E0F6FF');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, w, h);
            
            // äººç‰©å¤´éƒ¨
            ctx.fillStyle = '#FFB07A';
            ctx.beginPath();
            ctx.arc(w*0.5, h*0.4, Math.min(w,h)*0.12, 0, Math.PI * 2);
            ctx.fill();
            
            // èº«ä½“
            ctx.fillStyle = '#4169E1';
            ctx.fillRect(w*0.42, h*0.5, w*0.16, h*0.3);
        }

        // é£æ™¯åœºæ™¯
        function drawLandscape(ctx, w, h) {
            // å¤©ç©ºæ¸å˜
            const skyGradient = ctx.createLinearGradient(0, 0, 0, h*0.6);
            skyGradient.addColorStop(0, '#87CEEB');
            skyGradient.addColorStop(1, '#B0E0E6');
            ctx.fillStyle = skyGradient;
            ctx.fillRect(0, 0, w, h*0.6);
            
            // å±±è„‰
            ctx.fillStyle = '#8B7355';
            ctx.beginPath();
            ctx.moveTo(0, h*0.6);
            ctx.lineTo(w*0.3, h*0.3);
            ctx.lineTo(w*0.6, h*0.45);
            ctx.lineTo(w*0.9, h*0.2);
            ctx.lineTo(w, h*0.4);
            ctx.lineTo(w, h*0.6);
            ctx.fill();
            
            // è‰åœ°
            ctx.fillStyle = '#90EE90';
            ctx.fillRect(0, h*0.6, w, h*0.4);
            
            // å¤ªé˜³
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(w*0.85, h*0.15, Math.min(w,h)*0.05, 0, Math.PI * 2);
            ctx.fill();
        }

        // ç¾¤ä½“åœºæ™¯
        function drawGroup(ctx, w, h) {
            ctx.fillStyle = '#F5F5DC';
            ctx.fillRect(0, 0, w, h);
            
            const people = [
                {x: w*0.25, y: h*0.45, color: '#FFB07A'},
                {x: w*0.4, y: h*0.4, color: '#DEB887'},
                {x: w*0.6, y: h*0.42, color: '#F0E68C'},
                {x: w*0.75, y: h*0.47, color: '#FFB07A'}
            ];
            
            people.forEach(person => {
                // å¤´éƒ¨
                ctx.fillStyle = person.color;
                ctx.beginPath();
                ctx.arc(person.x, person.y, Math.min(w,h)*0.06, 0, Math.PI * 2);
                ctx.fill();
                
                // èº«ä½“
                ctx.fillStyle = '#4169E1';
                ctx.fillRect(person.x - w*0.04, person.y + Math.min(w,h)*0.04, w*0.08, h*0.2);
            });
        }

        // å•†åŠ¡åœºæ™¯
        function drawBusiness(ctx, w, h) {
            const gradient = ctx.createLinearGradient(0, 0, 0, h);
            gradient.addColorStop(0, '#36454F');
            gradient.addColorStop(1, '#2F4F4F');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, w, h);
            
            // å¤´éƒ¨
            ctx.fillStyle = '#FFB07A';
            ctx.beginPath();
            ctx.arc(w*0.5, h*0.35, Math.min(w,h)*0.1, 0, Math.PI * 2);
            ctx.fill();
            
            // è¥¿è£…
            ctx.fillStyle = '#000080';
            ctx.fillRect(w*0.4, h*0.42, w*0.2, h*0.35);
            
            // é¢†å¸¦
            ctx.fillStyle = '#DC143C';
            ctx.fillRect(w*0.485, h*0.42, w*0.03, h*0.2);
        }

        // ä¼‘é—²åœºæ™¯
        function drawCasual(ctx, w, h) {
            ctx.fillStyle = '#FFE4E1';
            ctx.fillRect(0, 0, w, h);
            
            // äººç‰©
            ctx.fillStyle = '#FFB07A';
            ctx.beginPath();
            ctx.arc(w*0.45, h*0.4, Math.min(w,h)*0.08, 0, Math.PI * 2);
            ctx.fill();
            
            // è¡£æœ
            ctx.fillStyle = '#FF6347';
            ctx.fillRect(w*0.38, h*0.46, w*0.14, h*0.25);
            
            // è£…é¥°èŠ±æœµ
            ctx.fillStyle = '#FF1493';
            for(let i = 0; i < 8; i++) {
                const x = w*0.1 + Math.random() * w*0.8;
                const y = h*0.1 + Math.random() * h*0.2;
                ctx.beginPath();
                ctx.arc(x, y, Math.min(w,h)*0.015, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        // ä¸‹è½½åŸå§‹å›¾ç‰‡
        function downloadOriginal(testId, filename) {
            const canvas = document.getElementById(`original${testId}`);
            const testCase = testCases[testId];
            
            // åˆ›å»ºé«˜åˆ†è¾¨ç‡ç‰ˆæœ¬
            const highResCanvas = document.createElement('canvas');
            highResCanvas.width = testCase.original.width;
            highResCanvas.height = testCase.original.height;
            const ctx = highResCanvas.getContext('2d');
            
            // ç»˜åˆ¶é«˜åˆ†è¾¨ç‡å›¾ç‰‡
            switch(testId) {
                case 1: drawPortrait(ctx, highResCanvas.width, highResCanvas.height); break;
                case 2: drawLandscape(ctx, highResCanvas.width, highResCanvas.height); break;
                case 3: drawGroup(ctx, highResCanvas.width, highResCanvas.height); break;
                case 4: drawBusiness(ctx, highResCanvas.width, highResCanvas.height); break;
                case 5: drawCasual(ctx, highResCanvas.width, highResCanvas.height); break;
            }
            
            downloadCanvas(highResCanvas, filename);
        }

        // ä¸‹è½½è£å‰ªå›¾ç‰‡
        function downloadCropped(testId, filename) {
            const testCase = testCases[testId];
            
            // åˆ›å»ºé«˜åˆ†è¾¨ç‡åŸå›¾
            const originalCanvas = document.createElement('canvas');
            originalCanvas.width = testCase.original.width;
            originalCanvas.height = testCase.original.height;
            let ctx = originalCanvas.getContext('2d');
            
            switch(testId) {
                case 1: drawPortrait(ctx, originalCanvas.width, originalCanvas.height); break;
                case 2: drawLandscape(ctx, originalCanvas.width, originalCanvas.height); break;
                case 3: drawGroup(ctx, originalCanvas.width, originalCanvas.height); break;
                case 4: drawBusiness(ctx, originalCanvas.width, originalCanvas.height); break;
                case 5: drawCasual(ctx, originalCanvas.width, originalCanvas.height); break;
            }
            
            // åˆ›å»ºè£å‰ªåçš„å›¾ç‰‡
            const croppedCanvas = document.createElement('canvas');
            croppedCanvas.width = testCase.cropped.width;
            croppedCanvas.height = testCase.cropped.height;
            ctx = croppedCanvas.getContext('2d');
            
            const crop = testCase.cropped.crop;
            ctx.drawImage(
                originalCanvas,
                crop.x, crop.y, crop.width, crop.height,
                0, 0, croppedCanvas.width, croppedCanvas.height
            );
            
            downloadCanvas(croppedCanvas, filename);
        }

        // ä¸‹è½½Canvaså›¾ç‰‡
        function downloadCanvas(canvas, filename) {
            const link = document.createElement('a');
            link.download = filename;
            link.href = canvas.toDataURL('image/jpeg', 0.9);
            link.click();
        }

        // æ‰¹é‡ä¸‹è½½æ‰€æœ‰æ–‡ä»¶
        function downloadAllFiles() {
            const files = [
                { testId: 1, type: 'original', filename: 'portrait_1200x800.jpg' },
                { testId: 1, type: 'cropped', filename: 'instagram_post_1080x1080.jpg' },
                { testId: 2, type: 'original', filename: 'landscape_1600x900.jpg' },
                { testId: 2, type: 'cropped', filename: 'instagram_story_1080x1920.jpg' },
                { testId: 3, type: 'original', filename: 'group_1400x1000.jpg' },
                { testId: 3, type: 'cropped', filename: 'tiktok_1080x1920.jpg' },
                { testId: 4, type: 'original', filename: 'business_1000x1200.jpg' },
                { testId: 4, type: 'cropped', filename: 'linkedin_avatar_400x400.jpg' },
                { testId: 5, type: 'original', filename: 'casual_1100x800.jpg' },
                { testId: 5, type: 'cropped', filename: 'wechat_avatar_640x640.jpg' }
            ];
            
            files.forEach((file, index) => {
                setTimeout(() => {
                    if (file.type === 'original') {
                        downloadOriginal(file.testId, file.filename);
                    } else {
                        downloadCropped(file.testId, file.filename);
                    }
                }, index * 300); // 300msé—´éš”é¿å…æµè§ˆå™¨é™åˆ¶
            });
            
            console.log('ğŸ“¦ å¼€å§‹æ‰¹é‡ä¸‹è½½10ä¸ªæµ‹è¯•æ–‡ä»¶...');
        }

        // é¡µé¢åŠ è½½å®Œæˆåç”Ÿæˆæ‰€æœ‰é¢„è§ˆ
        window.onload = function() {
            console.log('ğŸ¨ ç”Ÿæˆæµ‹è¯•æ–‡ä»¶é¢„è§ˆ...');
            
            for (let i = 1; i <= 5; i++) {
                generateOriginalImage(i);
                // å»¶è¿Ÿç”Ÿæˆè£å‰ªå›¾ç‰‡ï¼Œç¡®ä¿åŸå›¾å…ˆå®Œæˆ
                setTimeout(() => generateCroppedImage(i), 100);
            }
            
            console.log('âœ… æµ‹è¯•æ–‡ä»¶ç”Ÿæˆå™¨å°±ç»ª');
        };
    </script>
</body>
</html>