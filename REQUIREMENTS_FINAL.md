# 图片裁剪工具站最终需求文档

## 项目概述
- **产品定位**: 移动端优先的AI智能图片裁剪工具
- **目标用户**: 个人用户（社交媒体、日常分享）
- **核心价值**: 可解释的AI裁剪 + 场景化智能推荐

---

## 核心功能需求

### 1. 用户群体与使用场景
- **主要用户**: 个人用户
- **设备优先级**: 移动端优先，桌面端兼容
- **使用场景**: 社交媒体发布、头像制作、日常图片处理

### 2. AI智能裁剪系统

#### 2.1 准确度要求
- **格式准确度**: 100%（用户选择正方形，输出必须是正方形）
- **美学准确度**: 95%（基于摄影构图美学标准）

#### 2.2 美学标准定义
- **三分构图法**: 将主体放置在网格交叉点
- **黄金比例**: 1:1.618比例分割
- **多元素智能识别**: 人脸、显著物体、色彩对比、边缘检测

#### 2.3 场景优先级策略
1. **格式要求优先**: 先满足用户选择的输出格式
2. **美学标准其次**: 在格式约束下优化构图美学

### 3. 多层次场景筛选系统

#### 3.1 第一层：平台分类
- **社交媒体**: Instagram, TikTok, 微信, 小红书, Facebook
- **专业用途**: LinkedIn头像, 简历照片, 证件照  
- **其他**: 头像, 壁纸, 打印

#### 3.2 第二层：具体场景
- **Instagram**: Post(1:1), Story(9:16), Reel封面(9:16)
- **微信**: 头像(1:1), 朋友圈封面(2.35:1), 公众号封面(2.35:1)
- **TikTok**: 视频封面(9:16), 头像(1:1)

#### 3.3 第三层：内容类型（AI自动识别）
- **人像/肖像**
- **风景/建筑**
- **产品/物品**  
- **文字/截图**

#### 3.4 数据驱动优化
- **埋点监控**: 跟踪各层级使用频率
- **迭代优化**: 基于数据删除低频场景，优化高频场景

### 4. AI交互流程

#### 4.1 核心流程
1. **用户上传图片**
2. **AI自动分析**: 内容识别 + 构图分析
3. **智能预裁剪**: 直接给出最优裁剪结果
4. **用户手动调整**: 在AI结果基础上微调
5. **实时解释更新**: 调整时同步更新解释文案

#### 4.2 AI结果展示
- **默认显示**: 1个最优AI裁剪结果
- **可选展示**: 提供2-3个不同风格的备选方案（可选功能）

---

## 差异化竞争优势

### 1. 可解释性AI（核心优势）

#### 1.1 GPT-4.1集成方案
- **技术实现**: 调用GPT-4.1 API生成解释
- **输入数据**: 裁剪参数 + 图片特征 + 选择场景
- **输出字段**: 分离修改理由和修改结果

#### 1.2 修改理由（情感化解释）
**格式示例**:
```
电影宽银幕
效果：强调孤独与辽阔感，去掉多余沙地与右侧亮点干扰。

方形极简（头像墙/封面友好）
效果：更克制的极简感，适合正方形平台位。

竖幅海报（强调"向上消散"的雾）
效果：保留上部层层递进的雾，做海报/封面。
```

#### 1.3 修改结果（技术化说明）
**格式示例**:
```
我按「电影宽银幕」完成了裁剪（仅裁切，无生成/拉伸）：

目标比例：2.39:1（宽银幕）
裁切框：左约 4%、右约 10%，底部保留约 5% 沙地，上方留出大量雾面负空间
导出尺寸：929×388
```

#### 1.4 解释文案特点
- **格式名称化**: 给裁剪风格起直观名字
- **情感/氛围描述**: 描述视觉感受而非技术参数
- **功能导向**: 明确说明适用场景和解决的问题
- **结果预期**: 告知用户最终效果和使用建议

#### 1.5 动态生成要求
- **内容适应**: 不同图片类型生成不同解释文案
- **场景适应**: 同种裁剪风格在不同场景下解释不同
- **个性化**: 基于图片具体内容生成个性化解释

### 2. 用户交互优化
- **直观操作**: 减少用户学习成本
- **实时反馈**: 调整时即时显示效果和解释
- **对比展示**: AI建议与原图的清晰对比

### 3. 视觉美观设计
- **移动端优化**: 触控友好的界面设计
- **简洁现代**: 突出裁剪效果，弱化复杂操作
- **辅助线可选**: 构图辅助线（三分网格等）可开关

---

## 技术实现要求

### 1. AI技术栈
- **图像识别**: 人脸检测、物体识别、显著性区域分析
- **构图算法**: 三分法、黄金比例、平衡构图等规则
- **机器学习**: 基于大量数据训练的美学评判模型

### 2. GPT-4.1集成
- **API调用**: 实时调用GPT-4.1生成解释文案
- **数据结构**: 
  ```json
  {
    "crop_reason": "电影宽银幕\n效果：强调孤独与辽阔感...",
    "crop_result": "我按「电影宽银幕」完成了裁剪...",
    "crop_params": {
      "ratio": "2.39:1",
      "left_crop": "4%",
      "right_crop": "10%",
      // ...
    }
  }
  ```

### 3. 性能要求
- **AI处理速度**: < 2秒完成分析和裁剪
- **解释生成**: < 3秒生成完整解释文案
- **移动端优化**: 流畅的触控体验

### 4. 平台格式数据库
- **预设尺寸**: 维护所有主流平台的标准尺寸
- **自动更新**: 平台规格变化时及时更新
- **格式映射**: 用户选择场景自动匹配对应尺寸

---

## 用户体验流程

### 1. 核心用户路径
```
上传图片 → AI分析 → 选择场景（可选）→ 查看AI裁剪结果 + 解释 → 手动调整（可选）→ 下载
```

### 2. 场景选择策略
- **AI智能推荐**: 基于图片内容推荐最适合的场景
- **用户主动选择**: 提供完整场景分类供用户选择
- **混合模式**: AI推荐为主，用户选择为辅

### 3. 反馈机制
- **实时解释**: 用户调整时实时更新解释文案
- **效果预览**: 调整过程中持续显示最终效果
- **撤销重做**: 支持操作历史管理

---

## 数据收集与优化

### 1. 关键埋点
- **场景使用频率**: 各层级分类的选择频率
- **AI接受率**: 用户直接使用AI结果 vs 手动调整的比例  
- **调整行为**: 用户常见的调整操作类型
- **完成率**: 从上传到下载的完整流程完成率

### 2. 持续优化
- **场景精简**: 删除使用率低的场景分类
- **AI训练**: 基于用户调整行为优化AI算法
- **解释优化**: 基于用户反馈优化GPT文案生成

---

## 成功指标

### 1. 技术指标
- **AI准确度**: 95%的美学评判准确率
- **格式准确度**: 100%的尺寸格式准确性
- **处理速度**: AI分析<2秒，解释生成<3秒

### 2. 用户指标  
- **AI接受率**: >70%用户直接使用AI结果
- **完整流程完成率**: >80%
- **用户满意度**: 解释清晰度>4.5/5.0

### 3. 产品指标
- **差异化价值**: 可解释性功能使用率>60%
- **用户留存**: 移动端用户7日留存>40%
- **口碑传播**: 用户主动分享解释结果>15%

---

**文档版本**: v2.0 - 最终需求  
**更新时间**: 2024-09-11  
**状态**: ✅ 需求定义完成，可进入设计开发阶段